(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"uO+e":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var waypoints_lib_noframework_waypoints_min_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("64y6"),waypoints_lib_noframework_waypoints_min_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(waypoints_lib_noframework_waypoints_min_js__WEBPACK_IMPORTED_MODULE_0__),js_logger__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("GGSb"),js_logger__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(js_logger__WEBPACK_IMPORTED_MODULE_1__);function _classCallCheck(e,_){if(!(e instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,_){for(var i=0;i<_.length;i++){var n=_[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,_,i){return _&&_defineProperties(e.prototype,_),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}var RecurrentAds=function(){function RecurrentAds(){_classCallCheck(this,RecurrentAds),this.pixelsOffset=null,this.banners=null,this.deviceWidth=window.innerWidth}return _createClass(RecurrentAds,[{key:"setOffset",value:function(e){this.pixelsOffset=e}},{key:"selectBanners",value:function(){this.banners=document.querySelectorAll(".recurrent-banner")}},{key:"setIds",value:function(){js_logger__WEBPACK_IMPORTED_MODULE_1___default.a.info("ADS::RECURRENT ADS");for(var e=0;e<this.banners.length;e++){var _=this.banners[e],i=_.getAttribute("data-js-ad-manager-slot"),n=_.getAttribute("data-js-maxw"),t=_.getAttribute("data-js-minw");(null===t&&null===n||null===t&&this.deviceWidth<=n||t<=this.deviceWidth&&this.deviceWidth<=n||t<=this.deviceWidth&&null===n)&&(_.id=i,js_logger__WEBPACK_IMPORTED_MODULE_1___default.a.info("ADS::"+i))}js_logger__WEBPACK_IMPORTED_MODULE_1___default.a.info("ADS::END RECURRENT ADS")}},{key:"applyWaypoint",value:function applyWaypoint(){var _this=this;if(this.banners.length>0)for(var _loop=function _loop(i){var elem=_this.banners[i];if(""!=elem.id)var waypoint=new Waypoint({element:elem,handler:function handler(){var id=elem.id;if(js_logger__WEBPACK_IMPORTED_MODULE_1___default.a.info("ADS::Rendering ad -> "+id),window.frontendcms.config.feature_header_bidding||0!=window.frontendcms.config.brandedContent){var failsafe=setTimeout((function(){js_logger__WEBPACK_IMPORTED_MODULE_1___default.a.info("ADS::Failsafe ejecutado en "+id),googletag.pubads().refresh([eval(id)])}),3500);js_logger__WEBPACK_IMPORTED_MODULE_1___default.a.info("ADS::Calling to pbjs.."+id),window.frontendcms.config.feature_permutive_xandr?window.pbjs.que.push((function(){window.pbjs.rp.requestBids({callback:function callback(){js_logger__WEBPACK_IMPORTED_MODULE_1___default.a.info("ADS::RECARGANDO RECURRENTEMENTE (Xandr) "+id),googletag.pubads().refresh([eval(id)]),clearTimeout(failsafe)},gptSlotObjects:[eval(id)],sizeMappings:window.dm_mapping,data:{keywords:{permutive:getPermutiveKeys()}}})})):window.pbjs.que.push((function(){window.pbjs.rp.requestBids({callback:function callback(){js_logger__WEBPACK_IMPORTED_MODULE_1___default.a.info("ADS::RECARGANDO RECURRENTEMENTE "+id),googletag.pubads().refresh([eval(id)]),clearTimeout(failsafe)},gptSlotObjects:[eval(id)],sizeMappings:window.dm_mapping})}))}else googletag.pubads().refresh([eval(id)]);waypoint.destroy()},offset:_this.pixelsOffset})},i=0;i<this.banners.length;i++)_loop(i);else js_logger__WEBPACK_IMPORTED_MODULE_1___default.a.info("ADS::There are no recurrent banners on this page.")}},{key:"init",value:function(){this.setOffset(300),this.selectBanners(),this.setIds(),this.applyWaypoint()}}]),RecurrentAds}();__webpack_exports__.default=RecurrentAds}}]);